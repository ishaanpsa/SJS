<!doctype html>
<html lang="pa" dir="ltr">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SJS — Viewer</title>
<style>
  :root { --w: 1000px; }
  body { margin: 0 auto; max-width: var(--w); padding: 1rem; font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  header { display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap; margin-bottom: .5rem; }
  .controls { display: flex; align-items: center; gap: .5rem; }
  button { padding: .5rem .75rem; border: 1px solid #e5e7eb; border-radius: .5rem; background: #f8fafc; cursor: pointer; font: inherit; }
  button:disabled { opacity: .5; cursor: not-allowed; }
  #pageIndicator { font-weight: 600; }
  main img { width: 100%; height: auto; display: block; border: 1px solid #eee; border-radius: .5rem; }
  footer { color: #6b7280; margin-top: .75rem; font-size: .9rem; }
  input[type="number"] { width: 5rem; padding: .35rem .5rem; border: 1px solid #e5e7eb; border-radius: .4rem; }
</style>
<body>
  <header>
    <div class="controls">
      <button id="prevBtn" aria-label="Previous page">◀ Prev</button>
      <span id="pageIndicator">Page 1 / 10</span>
      <button id="nextBtn" aria-label="Next page">Next ▶</button>
    </div>
    <div class="controls">
      <label for="jump">Jump to:</label>
      <input id="jump" type="number" min="1" max="10" value="1">
      <button id="goBtn">Go</button>
    </div>
  </header>
  <main>
    <img id="pageImg" src="assets/page-001.png" alt="PDF page 1" loading="eager">
  </main>
  <footer>
    Use keyboard: ← / → to navigate. Opens on page 1.
  </footer>

<script>
  const images = ["assets/page-001.png", "assets/page-002.png", "assets/page-003.png", "assets/page-004.png", "assets/page-005.png", "assets/page-006.png", "assets/page-007.png", "assets/page-008.png", "assets/page-009.png", "assets/page-010.png"];
  let idx = 0; // zero-based, start at first page

  const img = document.getElementById('pageImg');
  const prev = document.getElementById('prevBtn');
  const next = document.getElementById('nextBtn');
  const ind = document.getElementById('pageIndicator');
  const jump = document.getElementById('jump');
  const go = document.getElementById('goBtn');

  function update() {
    img.src = images[idx];
    img.alt = `PDF page ${idx+1}`;
    ind.textContent = `Page ${idx+1} / 10`;
    jump.value = idx + 1;
    prev.disabled = (idx === 0);
    next.disabled = (idx === images.length - 1);
    // Update hash for deep link (optional)
    location.hash = `#p${idx+1}`;
  }

  prev.addEventListener('click', () => { if (idx > 0) { idx--; update(); } });
  next.addEventListener('click', () => { if (idx < images.length - 1) { idx++; update(); } });
  go.addEventListener('click', () => {
    let n = parseInt(jump.value, 10);
    if (!isNaN(n)) {
      n = Math.min(Math.max(n, 1), images.length);
      idx = n - 1;
      update();
    }
  });

  // Keyboard navigation
  window.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') { if (idx > 0) { idx--; update(); } }
    if (e.key === 'ArrowRight') { if (idx < images.length - 1) { idx++; update(); } }
  });

  // Open at hash if provided (#p3 -> page 3), else page 1
  function initFromHash() {
    const m = location.hash.match(/#p(\d+)/i);
    if (m) {
      const n = Math.min(Math.max(parseInt(m[1], 10), 1), images.length);
      idx = n - 1;
    } else {
      idx = 0;
    }
    update();
  }

  // Preload next image for snappy nav
  const observer = new IntersectionObserver((entries) => {
    for (const entry of entries) {
      if (entry.isIntersecting) {
        const nextIdx = idx + 1;
        if (nextIdx < images.length) {
          const pre = new Image();
          pre.src = images[nextIdx];
        }
      }
    }
  });
  observer.observe(img);

  initFromHash();
</script>
</body>
</html>
